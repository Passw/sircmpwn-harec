#!/bin/sh
all="$all rt"

rt() {
	arch=$(uname -m)
	case $(uname) in
		Linux)
			rtstart=rt/+linux/start+$arch.o
			cat <<-EOF
			rtstart=rt/+linux/start+$arch.o

			libhart_srcs=\
				rt/+linux/errno.ha \
				rt/+linux/segmalloc.ha \
				rt/+linux/syscallno+$arch.ha \
				rt/+linux/syscalls.ha

			libhart_objs=\
				rt/+linux/syscall+$arch.o

			rt: libhart.a rt/+linux/start+$arch.o
			EOF
			;;
		*)
			printf "rt not supported for %s\n" "$(uname)" >&2
			exit 1
			;;
	esac
}
